on post-fs-data
    mkdir /data/carrier 0755 system system

on property:sys.usb.config=charge_only
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/bDeviceClass 0
    write /sys/class/android_usb/android0/bDeviceSubClass 0
    write /sys/class/android_usb/android0/bDeviceProtocol 0
    write /sys/class/android_usb/android0/idProduct 0x2e36
    write /sys/class/android_usb/android0/idVendor 0x22b8
    write /sys/class/android_usb/android0/f_mass_storage/lun/file 0
    write /sys/class/android_usb/android0/functions mass_storage
    write /sys/class/android_usb/android0/ctrl_adb_pid 0
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state $sys.usb.config

on property:sys.usb.config=charge_only,adb
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/bDeviceClass 0
    write /sys/class/android_usb/android0/bDeviceSubClass 0
    write /sys/class/android_usb/android0/bDeviceProtocol 0
    write /sys/class/android_usb/android0/idProduct 0x2e36
    write /sys/class/android_usb/android0/idVendor 0x22b8
    write /sys/class/android_usb/android0/f_mass_storage/lun/file 0
    write /sys/class/android_usb/android0/functions mass_storage
    write /sys/class/android_usb/android0/ctrl_adb_pid 0
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state $sys.usb.config

on property:persist.carrier.carrierid=*
    setprop op.carrierid ${persist.carrier.carrierid}

on property:persist.carrier.carrierid=SPRINT
    symlink /oem/amazon/sprint /carrier/etc

on property:persist.carrier.carrierid=BOOST
    symlink /oem/amazon/boost /carrier/etc

on property:persist.carrier.carrierid=VIRGIN
    symlink /oem/amazon/virgin /carrier/etc

on property:persist.carrier.carrierid=SPRPRE
    symlink /oem/amazon/sprpre /carrier/etc

on property:persist.carrier.tether.denied=*
    setprop ro.tether.denied ${persist.carrier.tether.denied}

on property:persist.carrier.dm.uaprof=*
    setprop ro.mot.hw.uaprof ${persist.carrier.dm.uaprof}
    setprop ro.device.wapprofile.url ${persist.carrier.dm.uaprof}
